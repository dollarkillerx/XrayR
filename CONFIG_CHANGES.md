# 配置文件路径修改说明

## 修改内容

已将 XrayR 的默认配置文件路径从 `./config.yml` 修改为 `./config/config.yml`。

## 修改详情

### 1. 默认配置文件路径
- **之前**: `./config.yml` (当前目录)
- **现在**: `./config/config.yml` (config 子目录)

### 2. 自动生成功能
- 当配置文件不存在时，程序会自动生成默认配置文件
- 生成的配置文件包含完整的配置模板和注释
- 支持创建多级目录结构

### 3. 向后兼容
- 仍然支持通过 `-c` 参数指定自定义配置文件路径
- 仍然支持在当前目录查找 `config.yml` 文件

## 使用方法

### 自动生成配置文件
```bash
# 直接运行程序，会自动生成 config/config.yml
./XrayR
```

### 使用自定义配置文件
```bash
# 使用指定路径的配置文件
./XrayR -c /path/to/your/config.yml
```

### 手动生成配置文件
```bash
# 删除现有配置文件
rm -f config/config.yml

# 重新运行程序生成新配置
./XrayR
```

## 配置文件结构

生成的配置文件位于 `config/config.yml`，包含以下主要部分：

- **Log**: 日志配置
- **ConnectionConfig**: 连接配置  
- **Pprof**: 性能分析配置
- **Nodes**: 节点配置（面板类型、API配置等）

## 注意事项

1. 首次运行时会自动创建 `config` 目录
2. 生成的配置文件需要根据实际需求修改
3. 特别是需要修改面板的 API 地址、密钥和节点 ID
4. 程序启动失败是正常的，因为默认配置中的面板地址不可达

## 修改的文件

- `cmd/root.go`: 修改了默认配置文件路径和添加了自动生成功能 